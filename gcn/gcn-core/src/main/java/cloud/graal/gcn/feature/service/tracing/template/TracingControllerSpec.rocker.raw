@import io.micronaut.starter.application.Project

@args (Project project)

@if (project.getPackageName() != null) {
package @(project.getPackageName()).controller

import @(project.getPackageName()).client.TracingClient
}
import io.micronaut.test.extensions.spock.annotation.MicronautTest
import jakarta.inject.Inject
import spock.lang.Specification

@@MicronautTest
class TracingControllerSpec extends Specification {

    @@Inject
    TracingClient tracingClient

    void 'test tracing controller'() {
        when:
        String traceId = UUID.randomUUID()

        then:
        tracingClient.test(traceId) == traceId
        tracingClient.test2(traceId) == traceId
    }
}
